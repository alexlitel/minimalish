(function mobileToggle(){var menuToggle=document.getElementById('menu-toggle'),searchToggle=document.getElementById('search-toggle');menuToggle.addEventListener("click",function(event){event.preventDefault();menuToggle.classList.toggle('is-rotated');document.getElementsByClassName('header-box-link-list')[0].classList.toggle('mobile-toggle-hide');if(menuToggle.classList.contains('is-rotated')){menuToggle.title="Click, tap, or press 'Enter' to hide menu.";menuToggle.setAttribute('aria-expanded','true');}else{menuToggle.title="Click, tap, or press 'Enter' to show menu.";menuToggle.setAttribute('aria-expanded','false');}});searchToggle.addEventListener("click",function(event){event.preventDefault();searchToggle.classList.toggle('tumblr-icon-cancel');document.getElementsByClassName('header-box-form')[0].classList.toggle('mobile-toggle-hide');if(searchToggle.classList.contains('tumblr-icon-cancel')){searchToggle.title="Click, tap, or press 'Enter' to hide search.";searchToggle.setAttribute('aria-expanded','true');}else{searchToggle.title="Click, tap, or press 'Enter' to show search.";searchToggle.setAttribute('aria-expanded','false');}});document.getElementsByClassName('header-box-link-list-item')[document.getElementsByClassName('header-box-link-list-item').length-1].addEventListener("keydown",function(event){if(getComputedStyle(menuToggle).display==="block"){if(event.keyCode===9&&!event.shiftKey){event.preventDefault();menuToggle.focus();}}});document.getElementsByClassName('header-box-submit')[0].addEventListener("keydown",function(event){if(getComputedStyle(searchToggle).display==="block"){if(event.keyCode===9&&!event.shiftKey){event.preventDefault();searchToggle.focus();}}});}());(function nativePhotos(){var forEach=function(array,callback,scope){for(var i=0;i<array.length;i++){callback.call(scope,i,array[i]);}};function createLayout(){var photosets=document.querySelectorAll('.photoset-post-photoset');forEach(photosets,function(j,photoset){var rows=photoset.getAttribute('data-layout').split('').map(Number),imageIndex=0,photos=photoset.querySelectorAll('.photoset-post-photoset-cell');rows.forEach(function(row,jj){var rowStart=imageIndex,rowEnd=imageIndex+row,rowEl=document.createElement('div');rowEl.classList.add('photoset-post-photoset-row','photoset-post-photoset-row-cols-'+row);for(var k=rowStart;k<rowEnd;k++){rowEl.appendChild(photos[k]);}photoset.appendChild(rowEl);if(photoset.querySelectorAll('.photoset-post-photoset-row')[jj]){imageIndex=rowEnd;}});});}function resizePhotoRows(){var photoRows=document.querySelectorAll('.photoset-post-photoset-row:not(.photoset-post-photoset-row-cols-1)');forEach(photoRows,function(j,value){var shortestImage=photoRows[j].querySelectorAll('img')[0],photos=photoRows[j].querySelectorAll('img');for(var i=0;i<photos.length;i++){if(photos[i].height<shortestImage.height){shortestImage=photos[i];}}photoRows[j].style.height=shortestImage.height+"px";});}function init(){createLayout();resizePhotoRows();}function debounce(func,wait,immediate){var timeout;return function(){var context=this,args=arguments;var later=function(){timeout=null;if(!immediate)func.apply(context,args);};var callNow=immediate&&!timeout;clearTimeout(timeout);timeout=setTimeout(later,wait);if(callNow)func.apply(context,args);};}window.onload=init();window.addEventListener('resize',debounce(function(){resizePhotoRows(document.querySelectorAll('.photoset-post-photoset-row'));},250));}());